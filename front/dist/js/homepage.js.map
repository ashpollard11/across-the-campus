{"version":3,"sources":["homepage.js"],"names":["postsFeed","document","querySelector","window","addEventListener","e","showPosts","deletePosts","post","url","axios","delete","removePost","then","response","console","log","data","createPostsModule","createPosts","catch","error","get","obj","innerHTML","forEach","arr","i","article","createElement","dateTimeCont","dateEl","timeEl","titleTypeCont","eventTitleEl","typeEl","descriptionEl","userEmailCont","usernameEl","emailEl","timePostedEl","commentsCont","commentsDiv","commentsButton","commentsLabel","commentsForm","commentsEl","commenterLabel","commenter","commentBoxLabel","commentBox","sendButton","classList","add","date","time","eventTitle","type","description","username","email","timePosted","comments","rows","appendChild","expiryTime","setTimeout","now","later","ms","moment","diff","hour","createComments","dataSet","commentObject","commentCont","commentUser","commentText","commentTime","comment","commentsArr","sendComment","commentField","index","value","postIndex","toggle","contains"],"mappings":"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","file":"homepage.js","sourcesContent":["\nconst postsFeed = document.querySelector('.col')\n\n\n\n\nwindow.addEventListener('load', function(e) {\n\tshowPosts()\n})\n\n\n\nconst deletePosts = function(post) {\n\tlet url = 'http://159.65.67.93:1337/';\n\n\taxios.delete(url, {\n\t\tremovePost: post\n\t})\n\t.then(function (response) {\n\t\tconsole.log( \"array of current posts: \", response.data);\n\n\t\tcreatePostsModule.createPosts(response.data)\n\t\t\n\t})\n\t  .catch(function (error) {\n\t\tconsole.log(error);\n\t});\n}\n\nconst showPosts = function() {\n\tlet url = 'http://159.65.67.93:1337/';\n\n\taxios.get(url)\n\t.then(function (response) {\n\t\tconsole.log( \"array of posts: \", response.data);\n\n\t\tcreatePostsModule.createPosts(response.data)\n\t\t\n\t})\n\t  .catch(function (error) {\n\t\tconsole.log(error);\n\t});\n}\n\nconst createPostsModule = (function() {\n\n\tconst createPosts = function(obj) {\n\n\t\tpostsFeed.innerHTML = ''\n\n\t\tobj.forEach((arr, i) => {\n\t\t\tconsole.log(arr)\n\t\t\tconsole.log(i)\n\n\t\t\t//article(post)\n\n\t\t\tconst article = document.createElement('article');\n\n\t\t\t//date and time is in one container\n\n\t\t\tconst dateTimeCont = document.createElement('div');\n\t\t\tconst dateEl = document.createElement('p');\n\t\t\tconst timeEl = document.createElement('p');\n\n\t\t\t//title of event and event type in one container\n\n\t\t\tconst titleTypeCont = document.createElement('div');\n\t\t\tconst eventTitleEl = document.createElement('h3');\n\t\t\tconst typeEl = document.createElement('p');\n\n\t\t\t//description\n\t\t\t\n\t\t\tconst descriptionEl = document.createElement('p');\n\n\t\t\t//username and email in one container\n\t\t\t\n\t\t\tconst userEmailCont = document.createElement('div');\n\t\t\tconst usernameEl = document.createElement('h4');\n\t\t\tconst emailEl = document.createElement('p');\n\n\t\t\t//time posted\n\t\t\t\n\t\t\tconst timePostedEl = document.createElement('p');\n\n\t\t\t//comment section\n\t\t\t//container holding the arrow revealing the section\n\n\t\t\tconst commentsCont = document.createElement('section');\n\t\t\tconst commentsDiv = document.createElement('div');\n\t\t\tconst commentsButton = document.createElement('button');\n\t\t\tconst commentsLabel = document.createElement('p');\n\n\t\t\t//comment element containing all the comments as an object\n\t\t\t//username input field, comment box input, and send button\n\n\t\t\tconst commentsForm = document.createElement('form');\n\t\t\tconst commentsEl = document.createElement('p');\n\t\t\tconst commenterLabel = document.createElement('label');\n\t\t\tconst commenter = document.createElement('input');\n\t\t\tconst commentBoxLabel = document.createElement('label');\n\t\t\tconst commentBox = document.createElement('textarea');\n\t\t\tconst sendButton = document.createElement('button');\n\n\n\t\t\tdateTimeCont.classList.add('dateTimeCont');\n\t\t\tdateEl.innerHTML = arr.date;\n\t\t\t// if (arr.time.charAt(0) === \"0\") {\n\t\t\t// \tarr.time = arr.time.substr(1);\n\t\t\t// }\n\t\t\ttimeEl.innerHTML = arr.time;\n\n\t\t\ttitleTypeCont.classList.add('titleTypeCont');\n\t\t\teventTitleEl.innerHTML = arr.eventTitle;\n\t\t\ttypeEl.innerHTML = arr.type;\n\t\t\t\n\t\t\tdescriptionEl.classList.add(\"description\");\n\t\t\tdescriptionEl.innerHTML = arr.description;\n\n\t\t\tusernameEl.innerHTML = \"By \" + arr.username;\n\t\t\temailEl.innerHTML = \"Contact: \" + arr.email;\n\n\t\t\ttimePostedEl.classList.add(\"postDateTime\");\n\t\t\ttimePostedEl.innerHTML = \"Date Posted: \" + arr.timePosted;\n\n\t\t\t//if the comments area is true, add the button and title comments\n\t\t\t//the comment inputs are set, the button is added\n\t\t\t//else, the comments are disabled\n\n\t\t\tcommentsCont.classList.add('comment-section')\n\n\t\t\tcommentsEl.classList.add('comments')\n\t\t\tif (arr.comments) {\n\t\t\t\tconsole.log(arr.comments)\n\t\t\t\tcommentsLabel.innerHTML = \"Comments\"\n\t\t\t\tcommentsButton.innerHTML = '&#9661;'\n\t\t\t\tcommenter.type = \"text\"\n\t\t\t\tcommentBox.rows = \"5\"\n\t\t\t\tcommentsForm.classList.add('comment-form')\n\t\t\t\tcommenter.classList.add('comment-user')\n\t\t\t\tcommentBox.classList.add('comment-input')\n\t\t\t\tsendButton.classList.add('send-comment')\n\t\t\t\tcommenterLabel.innerHTML = \"Name: \"\n\t\t\t\tcommentBoxLabel.innerHTML = \"Reply: \"\n\t\t\t\tsendButton.innerHTML = \"send\"\n\t\t\t\tsendButton.type = \"button\"\n\t\t\t} else {\n\t\t\t\tcommentsEl.innerHTML = \"Comments are disabled for this post.\"\n\t\t\t}\n\n\t\t\tpostsFeed.appendChild(article);\n\t\t\tarticle.appendChild(dateTimeCont);\n\t\t\tarticle.appendChild(titleTypeCont);\n\t\t\tarticle.appendChild(userEmailCont);\n\t\t\t\n\t\t\tdateTimeCont.appendChild(dateEl);\n\t\t\tdateTimeCont.appendChild(timeEl);\n\n\t\t\ttitleTypeCont.appendChild(eventTitleEl);\n\t\t\ttitleTypeCont.appendChild(typeEl);\n\n\t\t\tarticle.appendChild(descriptionEl);\n\n\t\t\tuserEmailCont.appendChild(usernameEl);\n\t\t\tuserEmailCont.appendChild(emailEl);\n\n\t\t\tarticle.appendChild(timePostedEl);\n\n\t\t\tarticle.appendChild(commentsCont);\n\n\t\t\t//if expiry time passes, remove child\n\t\t\tif (arr.expiryTime === \"24\") {\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tdeletePosts(i)\n\t\t\t\t}, 60000*60*24);\n\t\t\t}\n\n\t\t\tif (arr.expiryTime === \"48\") {\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tdeletePosts(i)\n\t\t\t\t}, 60000*60*48);\n\t\t\t}\n\n\t\t\tif (arr.expiryTime === \"36\") {\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tdeletePosts(i)\n\t\t\t\t}, 60000*60*36);\n\t\t\t}\n\n\t\t\tif (arr.expiryTime === \"1 Hour After Event\") {\n\t\t\t\tlet now  = arr.timePosted\n\t\t\t\tlet later = arr.date + \"\\xa0\" +  arr.time;\n\t\t\t\tlet ms = moment(later,\"HH:mm:ss\").diff(moment(now,\"HH:mm:ss\"));\n\t\t\t\tlet hour = 60000*60\n\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tdeletePosts(i)\n\t\t\t\t}, ms + hour);\n\t\t\t}\n\n\n\n\t\t\t//if comments exist, append the children\n\t\t\t//else, only append the element stating a disabled comment area\n\n\t\t\tif (arr.comments) {\n\t\t\t\tcommentsCont.appendChild(commentsDiv);\n\t\t\t\tcommentsCont.appendChild(commentsForm);\n\t\t\t\tcommentsDiv.appendChild(commentsButton);\n\t\t\t\tcommentsDiv.appendChild(commentsLabel);\n\t\t\t\tcommentsForm.appendChild(commentsEl);\n\n\t\t\t\tcommentsForm.appendChild(commenterLabel);\n\t\t\t\tcommenterLabel.appendChild(commenter);\n\n\t\t\t\tcommentsForm.appendChild(commentBoxLabel);\n\t\t\t\tcommentBoxLabel.appendChild(commentBox);\n\t\t\t\tcommentsForm.appendChild(sendButton);\n\t\t\t} else {\n\t\t\t\tcommentsCont.appendChild(commentsForm);\n\t\t\t\tcommentsForm.appendChild(commentsEl);\n\t\t\t}\n\n\t\t\t//create each comment\n\n\t\t\tlet createComments = function(dataSet) {\n\n\t\t\t\tdataSet.forEach((commentObject) => {\n\t\t\t\t\tconsole.log(commentObject)\n\n\t\t\t\t\tconst commentCont = document.createElement('div');\n\t\t\t\t\tconst commentUser = document.createElement('p');\n\t\t\t\t\tconst commentText = document.createElement('p');\n\t\t\t\t\tconst commentTime = document.createElement('p');\n\n\t\t\t\t\tcommentUser.innerHTML = commentObject.username\n\t\t\t\t\tcommentText.innerHTML = commentObject.comment\n\t\t\t\t\tcommentTime.innerHTML = commentObject.timePosted\n\n\t\t\t\t\tcommentsEl.appendChild(commentCont)\n\t\t\t\t\tcommentCont.appendChild(commentUser)\n\t\t\t\t\tcommentCont.appendChild(commentText)\n\t\t\t\t\tcommentCont.appendChild(commentTime)\n\t\t\t\t})\n\t\t\t}\n\t\t\t//set comments as active on load \n\t\t\tcommentsEl.classList.add('active');\n\t\t\tcommentsButton.innerHTML = '&#9651;'\n\n\t\t\t//create current comments\n\n\t\t\tcreateComments(arr.commentsArr)\n\n\t\t\t//send new comments\n\n\t\t\tconst sendComment = function(commentField, commenter, index) {\n\n\t\t\t\tconsole.log(index)\n\n\t\t\t\tlet url = 'http://159.65.67.93:1337/comment';\n\t\t\t\t\n\n\t\t\t\taxios.post(url, {\n\t\t\t\t\tcomment: commentField.value,\n\t\t\t\t\tusername: commenter.value,\n\t\t\t\t\tpostIndex: index\n\t\t\t\t})\n\t\t\t\t.then(function (response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tcreateComments(response.data)\n\t\t\t\t})\n\t\t\t\t  .catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//send a comment and get the current ones\n\n\t\t\tsendButton.addEventListener(\"click\", function(e) {\n\t\t\t\tsendComment(commentBox, commenter, i)\n\t\t\t\tcommentsEl.innerHTML = ''\n\t\t\t\tcommenter.value = ''\n\t\t\t\tcommentBox.value = ''\n\t\t\t})\n\n\t\t\t//open button\n\n\t\t\tcommentsButton.addEventListener(\"click\", function(e) {\n\t\t\t\tcommentsEl.classList.toggle('active');\n\t\t\t\tif (commentsEl.classList.contains('active')) {\n\t\t\t\t\tcommentsButton.innerHTML = '&#9651;'\n\t\t\t\t} else {\n\t\t\t\t\tcommentsButton.innerHTML = '&#9661;'\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\treturn {\n\t\tcreatePosts: createPosts\n\t}\n\n})();\n\n\n\n\n\n"]}