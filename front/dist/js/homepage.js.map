{"version":3,"sources":["homepage.js"],"names":["postsFeed","document","querySelector","col1","createElement","col2","col3","cols","showPosts","console","log","url","API_URL","axios","get","then","response","data","createPostsModule","createPosts","catch","error","obj","innerHTML","forEach","col","i","appendChild","arr","article","dateTimeCont","dateEl","timeEl","titleTypeCont","eventTitleEl","typeEl","descriptionEl","userEmailCont","usernameEl","emailEl","timePostedEl","commentsCont","commentsDiv","commentsButton","commentsLabel","commentsForm","commentsEl","commenterLabel","commenter","commentBoxLabel","commentBox","sendButton","classList","add","moment","date","format","time","eventTitle","type","description","username","email","timePosted","comments","commentsArr","length","placeholder","rows","push","shift","createComments","dataSet","commentObject","commentCont","commentUser","commentText","commentTime","comment","sendComment","commentField","index","post","value","postIndex","addEventListener","e","toggle","contains","window"],"mappings":"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","sourcesContent":["\nconst postsFeed = document.querySelector('.inner-cont')\nconst col1 = document.createElement(\"div\")\nconst col2 = document.createElement(\"div\")\nconst col3 = document.createElement(\"div\")\nlet cols = [col1, col2, col3]\n\n\n// const deletePosts = function(post) {\n// \tlet url = API_URL;\n\n// \taxios.delete(url, {\n// \t\tremovePost: post\n// \t})\n// \t.then(function (response) {\n// \t\tconsole.log( \"array of current posts: \", response.data);\n\n// \t\tcreatePostsModule.createPosts(response.data)\n\t\t\n// \t})\n// \t  .catch(function (error) {\n// \t\tconsole.log(error);\n// \t});\n// }\n\nconst showPosts = function() {\n\tconsole.log(\"showPosts\")\n\tlet url = API_URL;\n\n\taxios.get(url)\n\t.then(function (response) {\n\t\tconsole.log( \"array of posts: \", response.data);\n\n\t\tcreatePostsModule.createPosts(response.data)\n\t\t\n\t})\n\t  .catch(function (error) {\n\t\tconsole.log(error);\n\t});\n}\n\nconst createPostsModule = (function() {\n\n\tconst createPosts = function(obj) {\n\n\t\tconsole.log(\"createPosts\", obj)\n\n\t\tpostsFeed.innerHTML = ''\n\t\tcols.forEach((col, i) => {\n\t\t\tcol.innerHTML = ''\n\t\t\tpostsFeed.appendChild(col) \n\t\t})\n\n\n\t\tobj.forEach((arr, i) => {\n\t\t\tconsole.log(arr)\n\t\t\tconsole.log(i)\n\n\t\t\t//article(post)\n\n\t\t\tconst article = document.createElement('article');\n\n\t\t\t//date and time is in one container\n\n\t\t\tconst dateTimeCont = document.createElement('div');\n\t\t\tconst dateEl = document.createElement('p');\n\t\t\tconst timeEl = document.createElement('p');\n\n\t\t\t//title of event and event type in one container\n\n\t\t\tconst titleTypeCont = document.createElement('div');\n\t\t\tconst eventTitleEl = document.createElement('h3');\n\t\t\tconst typeEl = document.createElement('p');\n\n\t\t\t//description\n\t\t\t\n\t\t\tconst descriptionEl = document.createElement('p');\n\n\t\t\t//username and email in one container\n\t\t\t\n\t\t\tconst userEmailCont = document.createElement('div');\n\t\t\tconst usernameEl = document.createElement('h4');\n\t\t\tconst emailEl = document.createElement('p');\n\n\t\t\t//time posted\n\t\t\t\n\t\t\tconst timePostedEl = document.createElement('p');\n\n\t\t\t//comment section\n\t\t\t//container holding the arrow revealing the section\n\n\t\t\tconst commentsCont = document.createElement('section');\n\t\t\tconst commentsDiv = document.createElement('div');\n\t\t\tconst commentsButton = document.createElement('button');\n\t\t\tconst commentsLabel = document.createElement('p');\n\n\t\t\t//comment element containing all the comments as an object\n\t\t\t//username input field, comment box input, and send button\n\n\t\t\tconst commentsForm = document.createElement('form');\n\t\t\tconst commentsEl = document.createElement('p');\n\t\t\tconst commenterLabel = document.createElement('label');\n\t\t\tconst commenter = document.createElement('input');\n\t\t\tconst commentBoxLabel = document.createElement('label');\n\t\t\tconst commentBox = document.createElement('textarea');\n\t\t\tconst sendButton = document.createElement('button');\n\n\n\t\t\tdateTimeCont.classList.add('dateTimeCont');\n\t\t\tdateEl.innerHTML = moment(arr.date).format('ll');\n\t\t\t// if (arr.time.charAt(0) === \"0\") {\n\t\t\t// \tarr.time = arr.time.substr(1);\n\t\t\t// }\n\t\t\ttimeEl.innerHTML = moment(arr.time, \"h:mm\").format('LT');\n\n\t\t\ttitleTypeCont.classList.add('titleTypeCont');\n\t\t\teventTitleEl.innerHTML = arr.eventTitle;\n\t\t\tarticle.classList.add(arr.type);\n\t\t\ttypeEl.innerHTML = arr.type;\n\n\t\t\t\n\t\t\tdescriptionEl.classList.add(\"description\");\n\t\t\tdescriptionEl.innerHTML = arr.description;\n\n\t\t\tusernameEl.innerHTML = \"By \" + arr.username;\n\t\t\temailEl.innerHTML = \"Contact: \" + arr.email;\n\n\t\t\ttimePostedEl.classList.add(\"postDateTime\");\n\t\t\ttimePostedEl.innerHTML = \"Date Posted: \" + moment(arr.timePosted).format('lll');\n\n\t\t\t//if the comments area is true, add the button and title comments\n\t\t\t//the comment inputs are set, the button is added\n\t\t\t//else, the comments are disabled\n\n\t\t\tcommentsCont.classList.add('comment-section')\n\n\t\t\tcommentsEl.classList.add('comments')\n\t\t\tif (arr.comments) {\n\t\t\t\tconsole.log(arr.comments)\n\t\t\t\tcommentsLabel.innerHTML = \"Comments\" + \" (\" + arr.commentsArr.length + \")\"\n\t\t\t\tcommentsButton.innerHTML = '&#9661;'\n\t\t\t\tcommenter.type = \"text\"\n\t\t\t\tcommenter.placeholder = \"Name\"\n\t\t\t\tcommentBox.rows = \"5\"\n\t\t\t\tcommentBox.placeholder = \"Enter comment here\"\n\t\t\t\tcommentsForm.classList.add('comment-form')\n\t\t\t\tcommenter.classList.add('comment-user')\n\t\t\t\tcommentBox.classList.add('comment-input')\n\t\t\t\tsendButton.classList.add('send-comment')\n\t\t\t\t// commenterLabel.innerHTML = \"Name: \"\n\t\t\t\t// commentBoxLabel.innerHTML = \"Reply: \"\n\t\t\t\tsendButton.innerHTML = \"send\"\n\t\t\t\tsendButton.type = \"button\"\n\t\t\t} else {\n\t\t\t\tcommentsEl.innerHTML = \"Comments are disabled for this post.\"\n\t\t\t}\n\n\t\t\t// let count = 1;\n\n\t\t\t// if (count = 1) {\n\t\t\t// \tpostsFeed1.appendChild(article);\n\t\t\t// \tcount++;\n\t\t\t// } if (count = 2) {\n\t\t\t// \tpostsFeed2.appendChild(article);\n\t\t\t// \tcount++;\n\t\t\t// } else if (count = 3) {\n\t\t\t// \tpostsFeed3.appendChild(article);\n\t\t\t// \tcount = 1;\n\t\t\t// }\n\n\t\t\t// postsFeed.appendChild(article);\n\t\t\tcols[0].appendChild(article);\n\t\t\tcols.push(cols.shift());\n\n\t\t\tarticle.appendChild(dateTimeCont);\n\t\t\tarticle.appendChild(titleTypeCont);\n\t\t\tarticle.appendChild(userEmailCont);\n\t\t\t\n\t\t\tdateTimeCont.appendChild(dateEl);\n\t\t\tdateTimeCont.appendChild(timeEl);\n\n\t\t\ttitleTypeCont.appendChild(eventTitleEl);\n\t\t\ttitleTypeCont.appendChild(typeEl);\n\n\t\t\tarticle.appendChild(descriptionEl);\n\n\t\t\tuserEmailCont.appendChild(usernameEl);\n\t\t\tuserEmailCont.appendChild(emailEl);\n\n\t\t\tarticle.appendChild(timePostedEl);\n\n\t\t\tarticle.appendChild(commentsCont);\n\n\n\t\t\t//if expiry time passes, remove child\n\n\n\t\t\t// if (arr.expiryTime === \"1 Hour After Event\") {\n\t\t\t// \tlet now  = arr.timePosted\n\t\t\t// \tlet later = arr.date + \"\\xa0\" +  arr.time;\n\t\t\t// \tlet hour = 60000*60\n\t\t\t// \tlet ms = moment(later,\"HH:mm:ss\").diff(moment(now,\"HH:mm:ss\"));\n\t\t\t// \tlet totalExpiry = ms + hour\n\t\t\t// \tconsole.log(\"post \" + i + \" expires in \" + totalExpiry + \" seconds\")\n\t\t\t// \tsetTimeout(function(){\n\t\t\t// \t\tdeletePosts(i)\n\t\t\t// \t}, totalExpiry);\n\n\t\t\t// } else if (arr.expiryTime) {\n\t\t\t// \tsetTimeout(function(){\n\t\t\t// \t\tdeletePosts(i)\n\t\t\t// \t}, 60000*60*arr.expiryTime);\n\t\t\t// }\n\n\n\n\t\t\t//if comments exist, append the children\n\t\t\t//else, only append the element stating a disabled comment area\n\n\t\t\tif (arr.comments) {\n\t\t\t\tcommentsCont.appendChild(commentsDiv);\n\t\t\t\tcommentsCont.appendChild(commentsForm);\n\t\t\t\tcommentsDiv.appendChild(commentsButton);\n\t\t\t\tcommentsDiv.appendChild(commentsLabel);\n\t\t\t\tcommentsForm.appendChild(commentsEl);\n\n\t\t\t\tcommentsForm.appendChild(commenter);\n\t\t\t\t// commenterLabel.appendChild(commenter);\n\n\t\t\t\tcommentsForm.appendChild(commentBox);\n\t\t\t\t// commentBoxLabel.appendChild(commentBox);\n\t\t\t\tcommentsForm.appendChild(sendButton);\n\t\t\t} else {\n\t\t\t\tcommentsCont.appendChild(commentsForm);\n\t\t\t\tcommentsForm.appendChild(commentsEl);\n\t\t\t}\n\n\t\t\t//create each comment\n\n\t\t\tlet createComments = function(dataSet) {\n\n\t\t\t\tdataSet.forEach((commentObject) => {\n\t\t\t\t\tconsole.log(commentObject)\n\n\t\t\t\t\tconst commentCont = document.createElement('div');\n\t\t\t\t\tconst commentUser = document.createElement('p');\n\t\t\t\t\tconst commentText = document.createElement('p');\n\t\t\t\t\tconst commentTime = document.createElement('p');\n\n\t\t\t\t\tcommentUser.innerHTML = commentObject.username\n\t\t\t\t\tcommentText.innerHTML = commentObject.comment\n\t\t\t\t\tcommentTime.innerHTML = commentObject.timePosted\n\n\t\t\t\t\tcommentsEl.appendChild(commentCont)\n\t\t\t\t\tcommentCont.appendChild(commentUser)\n\t\t\t\t\tcommentCont.appendChild(commentText)\n\t\t\t\t\tcommentCont.appendChild(commentTime)\n\t\t\t\t})\n\t\t\t}\n\t\t\t//set comments as active on load \n\t\t\tcommentsEl.classList.add('active');\n\t\t\tcommentsButton.innerHTML = '&#9655;'\n\t\t\t\n\n\t\t\t//create current comments\n\n\t\t\tcreateComments(arr.commentsArr)\n\n\t\t\t//send new comments\n\n\t\t\tconst sendComment = function(commentField, commenter, index) {\n\n\t\t\t\tconsole.log(index)\n\n\t\t\t\tlet url = API_URL+'comment';\n\t\t\t\t\n\n\t\t\t\taxios.post(url, {\n\t\t\t\t\tcomment: commentField.value,\n\t\t\t\t\tusername: commenter.value,\n\t\t\t\t\tpostIndex: index\n\t\t\t\t})\n\t\t\t\t.then(function (response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tcreateComments(response.data)\n\t\t\t\t})\n\t\t\t\t  .catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//send a comment and get the current ones\n\n\t\t\tsendButton.addEventListener(\"click\", function(e) {\n\t\t\t\tsendComment(commentBox, commenter, i)\n\t\t\t\tcommentsEl.innerHTML = ''\n\t\t\t\tcommenter.value = ''\n\t\t\t\tcommentBox.value = ''\n\t\t\t})\n\n\t\t\t//open button\n\n\t\t\tcommentsButton.addEventListener(\"click\", function(e) {\n\t\t\t\tcommentsEl.classList.toggle('active');\n\t\t\t\tif (commentsEl.classList.contains('active')) {\n\t\t\t\t\tcommentsButton.innerHTML = '&#9655;'\n\t\t\t\t} else {\n\t\t\t\t\tcommentsButton.innerHTML = '&#9658;'\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\treturn {\n\t\tcreatePosts: createPosts\n\t}\n\n})();\n\n\n\nwindow.addEventListener('load', showPosts)\n\n\n\n\n\n\n"],"file":"homepage.js"}